var TrumpPetition=angular.module("TrumpPetition",["ngMaterial","ngAnimate","ngMessages","ngAria","ui.router"]);!function(t){t.config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("home",{url:"/",templateUrl:"partials/home-partial.html",controller:"HomeController"}).state("about",{url:"/about",templateUrl:"partials/about-partial.html",controller:"AboutController"})}])}(TrumpPetition),function(t){t.service("WebRequestsService",["$http",function(t){this.fetchPetDate=function(e,o){t.get("https://petition.parliament.uk/petitions/171928.json").then(e,o)},this.fetchConsDate=function(e,o){t.get("https://karlnewark.github.io/TrumpPetitionAnalytics/public/tempCache/pop.json").then(e,o)}}])}(TrumpPetition),function(t){t.controller("AboutController",["$scope",function(t){}])}(TrumpPetition),function(t){t.controller("HomeController",["$scope","WebRequestsService",function(t,e){e.fetchPetDate(function(o){e.fetchConsDate(function(e){console.log(o.data.data.attributes.signature_count),t.data=o,t.total=o.data.data.attributes.signature_count;var n=o.data.data.attributes.signatures_by_country,a=o.data.data.attributes.signatures_by_constituency;console.log(e.data);for(var r=0;r<a.length;r++){var i=a[r];a[r].population=e.data[i.ons_code].population,a[r].sigRating=a[r].signature_count/a[r].population}console.table(a),console.table(a.sort(function(t,e){return t.signature_count-e.signature_count}));var u=a.sort(function(t,e){return t.signature_count-e.signature_count});t.bottom10=u.slice(0,9),t.top10=u.slice(u.length-11,u.length).reverse();for(var l=0,r=0;r<n.length;r++){var s=n[r];"GB"!=s.code&&(l+=s.signature_count)}t.worldTotal=l;for(var c=0,r=0;r<n.length;r++){var s=n[r];if("GB"==s.code){c=s.signature_count;break}}t.ukTotal=c})}),t.data="test"}])}(TrumpPetition);